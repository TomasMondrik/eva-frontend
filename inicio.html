<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pantalla de inicio - EVA</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Estilos para el overlay semitransparente */
    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      z-index: 40;
    }
    /* Imagen ampliada en el centro */
    .zoomed {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 90vw;
      height: 90vh;
      transform: translate(-50%, -50%);
      z-index: 50;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      border-radius: 1rem;
    }
  </style>
</head>
<body class="flex bg-gray-950 text-white font-sans h-screen">

  <!-- CONTENEDOR PRINCIPAL: Sidebar + Contenido -->
  <div class="flex h-full w-full">
    
    <!-- SIDEBAR -->
    <aside class="w-64 bg-gray-900 p-6 flex flex-col justify-between">
      <div>
        <!-- ‚ñ∫ Dropdown Ubicaci√≥n -->
        <div class="relative mb-6">
          <button id="ubicacionBtn"
                  onclick="toggleDropdown()"
                  class="w-full flex justify-between items-center bg-gray-800 text-white p-2 rounded hover:bg-gray-700">
            <span id="ubicacionActual">üè† Hogar - Av. Libertador 6798</span>
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div id="dropdownUbicacion"
               class="hidden absolute left-0 w-full mt-2 bg-gray-800 rounded shadow-lg z-10">
            <button onclick="cambiarUbicacion('hogar')"
                    class="block w-full text-left px-4 py-2 hover:bg-gray-700">
              üè† Hogar
            </button>
            <button onclick="cambiarUbicacion('trabajo')"
                    class="block w-full text-left px-4 py-2 hover:bg-gray-700">
              üè¢ Trabajo
            </button>
          </div>
        </div>

        <!-- ‚ñ∫ Enlaces del men√∫ -->
        <nav class="space-y-2">
          <a href="inicio.html"
             class="flex items-center px-4 py-2 rounded bg-emerald-500 text-gray-900">
            <span class="mr-2">üì∑</span>C√°maras en vivo
          </a>
          <a href="alertas.html"
             class="flex items-center px-4 py-2 rounded hover:bg-gray-800">
            <span class="mr-2">üö®</span>Alertas
          </a>
          <a href="comandos.html"
             class="flex items-center px-4 py-2 rounded hover:bg-gray-800">
            <span class="mr-2">üõ†Ô∏è</span>Comandos
          </a>
        </nav>

        <!-- ‚ñ∫ Otras cuentas -->
        <div class="mt-8 text-sm">
          <p class="text-gray-400 mb-2">Otras cuentas:</p>
          <ul class="space-y-1 text-gray-300">
            <li>üë§ Sofi</li>
            <li>üë§ Eve</li>
            <li>üë§ Male</li>
          </ul>
        </div>
      </div>

      <!-- ‚ñ∫ Pie del sidebar -->
      <div class="text-sm text-gray-400">
        üë§ Tom√°s<br>
        <span class="text-xs">Sesi√≥n activa</span>
      </div>
    </aside>


    <!-- CONTENIDO PRINCIPAL -->
    <main class="flex-1 p-8 overflow-y-auto">
      <h1 class="text-3xl font-bold text-emerald-400 mb-6">C√°maras en vivo</h1>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-8">
        <!-- Imagen de C√°mara 1 -->
        <img src="https://via.placeholder.com/800x600" alt="C√°mara 1"
             class="camera w-full h-64 bg-gray-800 rounded-lg shadow-md cursor-pointer object-cover transition hover:scale-105"
             onclick="zoom(this)" />
        <!-- Imagen de C√°mara 2 -->
        <img src="https://via.placeholder.com/800x600" alt="C√°mara 2"
             class="camera w-full h-64 bg-gray-800 rounded-lg shadow-md cursor-pointer object-cover transition hover:scale-105"
             onclick="zoom(this)" />
        <!-- Imagen de C√°mara 3 -->
        <img src="https://via.placeholder.com/800x600" alt="C√°mara 3"
             class="camera w-full h-64 bg-gray-800 rounded-lg shadow-md cursor-pointer object-cover transition hover:scale-105"
             onclick="zoom(this)" />
        <!-- Imagen de C√°mara 4 -->
        <img src="https://via.placeholder.com/800x600" alt="C√°mara 4"
             class="camera w-full h-64 bg-gray-800 rounded-lg shadow-md cursor-pointer object-cover transition hover:scale-105"
             onclick="zoom(this)" />
      </div>
    </main>
  </div>


  <!-- SCRIPTS -->
  <script>
    // ‚ñ∫ Muestra u oculta el dropdown de Ubicaci√≥n
    function toggleDropdown() {
      const dropdown = document.getElementById('dropdownUbicacion');
      dropdown.classList.toggle('hidden');
    }

    // ‚ñ∫ Cambia la ubicaci√≥n o muestra alerta si no est√° disponible
    function cambiarUbicacion(opcion) {
      const ubicacion = document.getElementById('ubicacionActual');
      const dropdown = document.getElementById('dropdownUbicacion');

      if (opcion === 'hogar') {
        ubicacion.textContent = 'üè† Hogar - Av. Libertador 6798';
      } else {
        alert("‚ö†Ô∏è Cambio a trabajo no disponible a√∫n.");
        ubicacion.textContent = 'üè† Hogar - Av. Libertador 6798';
      }
      dropdown.classList.add('hidden');
    }

    // ‚ñ∫ Cierra el dropdown si se hace clic fuera
    window.addEventListener('click', function(e) {
      const btn = document.getElementById('ubicacionBtn');
      const dropdown = document.getElementById('dropdownUbicacion');
      if (!btn.contains(e.target)) {
        dropdown.classList.add('hidden');
      }
    });

    // ‚ñ∫ Zoom de c√°maras con bot√≥n ‚Äú√ó‚Äù y overlay
    function zoom(img) {
      // 1) Crear overlay semitransparente
      const overlay = document.createElement("div");
      overlay.className = "overlay";
      overlay.onclick = closeZoom; // Cierra al clicar el fondo
      document.body.appendChild(overlay);

      // 2) Crear imagen ampliada
      const zoomedImg = document.createElement("img");
      zoomedImg.src = img.src;
      zoomedImg.alt = img.alt;
      zoomedImg.className = "zoomed object-cover";
      document.body.appendChild(zoomedImg);

      // 3) Crear bot√≥n de cierre ‚Äú√ó‚Äù
      const closeBtn = document.createElement("button");
      closeBtn.innerHTML = "√ó";
      closeBtn.className = `
        absolute top-4 right-4 z-60 text-white text-3xl font-bold 
        focus:outline-none
      `;
      closeBtn.style.background = "transparent";
      closeBtn.onclick = closeZoom;
      document.body.appendChild(closeBtn);

      // 4) Guardar referencias en el overlay
      overlay._zoomedImg = zoomedImg;
      overlay._closeBtn = closeBtn;
    }

    // ‚ñ∫ Funci√≥n para cerrar zoom (elimina overlay, imagen y bot√≥n)
    function closeZoom(event) {
      let overlay;
      if (event.currentTarget.classList.contains("overlay")) {
        overlay = event.currentTarget;
      } else {
        overlay = document.querySelector(".overlay");
      }
      if (!overlay) return;
      if (overlay._zoomedImg) overlay._zoomedImg.remove();
      if (overlay._closeBtn) overlay._closeBtn.remove();
      overlay.remove();
    }
  </script>

</body>
</html>
